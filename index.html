<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>The Sleeping Dragon ‚Äî Men√∫ Interactivo</title>
  <script src="https://unpkg.com/page-flip/dist/js/page-flip.browser.min.js"></script>
  <style>
    body { margin:0; font-family:sans-serif; background:#0f0f10; color:#fff; display:flex; flex-direction:column; align-items:center; padding:16px; }
    h1 { text-align:center; }
    #wrap { width:90%; max-width:1000px; aspect-ratio:16/10; background:#121217; border-radius:12px; box-shadow:0 10px 30px rgba(0,0,0,.35); overflow:hidden; position:relative; margin:12px 0; }
    #book { width:100%; height:100%; }
    .counter { position:absolute; top:10px; right:10px; background:rgba(0,0,0,.5); padding:4px 10px; border-radius:999px; font-size:13px; }
    .btn { background:#1a1a1d; border:1px solid #2a2a2f; padding:6px 12px; border-radius:8px; color:#fff; cursor:pointer; margin:2px; }
    .btn:disabled { opacity:.5; cursor:not-allowed; }
    footer { margin-top:10px; font-size:12px; color:#b3b3b3; }
  </style>
</head>
<body>
  <h1>üê≤ The Sleeping Dragon</h1>

  <div id="wrap">
    <div id="book"></div>
    <div class="counter" id="counter">Cargando...</div>
  </div>

  <div>
    <button class="btn" id="btn-prev">‚ü® Anterior</button>
    <button class="btn" id="btn-next">Siguiente ‚ü©</button>
    <button class="btn" id="btn-start">üè† Inicio</button>
  </div>

  <footer>¬© <span id="year"></span> The Sleeping Dragon</footer>

  <script>
    document.getElementById("year").textContent = new Date().getFullYear();

    const archivos = [
      "page-01.jpg",
      "page-02.jpg",
      "page-03.jpg",
      "page-04.jpg"
    ];

    const root = document.getElementById("book");
    const pageFlip = new St.PageFlip(root, { width:800, height:1132, size:"stretch", showCover:true });
    pageFlip.loadFromImages(archivos);

    const counter = document.getElementById("counter");
    function updateCounter(){
      const i = pageFlip.getCurrentPageIndex() + 1;
      counter.textContent = P√°gina ${i} de ${pageFlip.getPageCount()};
      document.getElementById("btn-prev").disabled = i===1;
      document.getElementById("btn-next").disabled = i===pageFlip.getPageCount();
    }
    pageFlip.on("init", updateCounter);
    pageFlip.on("flip", updateCounter);

    document.getElementById("btn-prev").onclick = ()=>pageFlip.flipPrev("top");
    document.getElementById("btn-next").onclick = ()=>pageFlip.flipNext("top");
    document.getElementById("btn-start").onclick = ()=>pageFlip.flip(0);
  </script>
</body>
</html>
